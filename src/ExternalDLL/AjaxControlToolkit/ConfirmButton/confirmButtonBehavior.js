Type.registerNamespace("AjaxControlToolkit");AjaxControlToolkit.ConfirmButtonHiddenEventArgs=function(a){AjaxControlToolkit.ConfirmButtonHiddenEventArgs.initializeBase(this);this._confirmed=a};AjaxControlToolkit.ConfirmButtonHiddenEventArgs.prototype={get_confirmed:function(){return this._confirmed}};AjaxControlToolkit.ConfirmButtonHiddenEventArgs.registerClass("AjaxControlToolkit.ConfirmButtonHiddenEventArgs",Sys.EventArgs);AjaxControlToolkit.ConfirmButtonBehavior=function(c){var b=null,a=this;AjaxControlToolkit.ConfirmButtonBehavior.initializeBase(a,[c]);a._ConfirmTextValue=b;a._OnClientCancelValue=b;a._ConfirmOnFormSubmit=false;a._displayModalPopupID=b;a._postBackScript=b;a._clickHandler=b;a._oldScript=b};AjaxControlToolkit.ConfirmButtonBehavior.prototype={initialize:function(){var a=this;AjaxControlToolkit.ConfirmButtonBehavior.callBaseMethod(a,"initialize");var b=a.get_element();a._clickHandler=Function.createDelegate(a,a._onClick);$addHandler(b,"click",a._clickHandler);a._oldScript=b.getAttribute("onclick");a._oldScript&&b.setAttribute("onclick",null);if(a._ConfirmOnFormSubmit&&typeof WebForm_OnSubmit=="function"&&!AjaxControlToolkit.ConfirmButtonBehavior._originalWebForm_OnSubmit)if(AjaxControlToolkit.TextBoxWatermarkBehavior&&AjaxControlToolkit.TextBoxWatermarkBehavior._originalWebForm_OnSubmit){AjaxControlToolkit.ConfirmButtonBehavior._originalWebForm_OnSubmit=AjaxControlToolkit.TextBoxWatermarkBehavior._originalWebForm_OnSubmit;AjaxControlToolkit.TextBoxWatermarkBehavior._originalWebForm_OnSubmit=AjaxControlToolkit.ConfirmButtonBehavior.WebForm_OnSubmit}else{AjaxControlToolkit.ConfirmButtonBehavior._originalWebForm_OnSubmit=WebForm_OnSubmit;WebForm_OnSubmit=AjaxControlToolkit.ConfirmButtonBehavior.WebForm_OnSubmit}},dispose:function(){var a=this;if(a._clickHandler){$removeHandler(a.get_element(),"click",a._clickHandler);a._clickHandler=null}if(a._oldScript){a.get_element().setAttribute("onclick",a._oldScript);a._oldScript=null}AjaxControlToolkit.ConfirmButtonBehavior.callBaseMethod(a,"dispose")},_onClick:function(e){var a=this;if(a.get_element()&&!a.get_element().disabled)if(a._ConfirmOnFormSubmit)AjaxControlToolkit.ConfirmButtonBehavior._clickedBehavior=a;else if(!a._displayConfirmDialog()){e.preventDefault();return false}else if(a._oldScript)if(String.isInstanceOfType(a._oldScript))eval(a._oldScript);else typeof a._oldScript=="function"&&a._oldScript()},_displayConfirmDialog:function(){var a=this,c=new Sys.CancelEventArgs;a.raiseShowing(c);if(c.get_cancel())return;if(a._displayModalPopupID){var b=$find(a._displayModalPopupID);if(!b)throw Error.argument("displayModalPopupID",String.format(AjaxControlToolkit.Resources.CollapsiblePanel_NoControlID,a._displayModalPopupID));b.set_OnOkScript("$find('"+a.get_id()+"')._handleConfirmDialogCompletion(true);");b.set_OnCancelScript("$find('"+a.get_id()+"')._handleConfirmDialogCompletion(false);");b.show();return false}else{var d=window.confirm(a._ConfirmTextValue);a._handleConfirmDialogCompletion(d);return d}},_handleConfirmDialogCompletion:function(result){var a=this;a.raiseHidden(new AjaxControlToolkit.ConfirmButtonHiddenEventArgs(result));if(result){if(a._postBackScript)eval(a._postBackScript)}else a._OnClientCancelValue&&window[a._OnClientCancelValue]()},get_OnClientCancel:function(){return this._OnClientCancelValue},set_OnClientCancel:function(a){if(this._OnClientCancelValue!=a){this._OnClientCancelValue=a;this.raisePropertyChanged("OnClientCancel")}},get_ConfirmText:function(){return this._ConfirmTextValue},set_ConfirmText:function(a){if(this._ConfirmTextValue!=a){this._ConfirmTextValue=a;this.raisePropertyChanged("ConfirmText")}},get_ConfirmOnFormSubmit:function(){return this._ConfirmOnFormSubmit},set_ConfirmOnFormSubmit:function(a){if(this._ConfirmOnFormSubmit!=a){this._ConfirmOnFormSubmit=a;this.raisePropertyChanged("ConfirmOnFormSubmit")}},get_displayModalPopupID:function(){return this._displayModalPopupID},set_displayModalPopupID:function(a){if(this._displayModalPopupID!=a){this._displayModalPopupID=a;this.raisePropertyChanged("displayModalPopupID")}},get_postBackScript:function(){return this._postBackScript},set_postBackScript:function(a){if(this._postBackScript!=a){this._postBackScript=a;this.raisePropertyChanged("postBackScript")}},add_showing:function(a){this.get_events().addHandler("showing",a)},remove_showing:function(a){this.get_events().removeHandler("showing",a)},raiseShowing:function(b){var a=this.get_events().getHandler("showing");a&&a(this,b)},add_hidden:function(a){this.get_events().addHandler("hidden",a)},remove_hidden:function(a){this.get_events().removeHandler("hidden",a)},raiseHidden:function(b){var a=this.get_events().getHandler("hidden");a&&a(this,b)}};AjaxControlToolkit.ConfirmButtonBehavior.registerClass("AjaxControlToolkit.ConfirmButtonBehavior",AjaxControlToolkit.BehaviorBase);AjaxControlToolkit.ConfirmButtonBehavior.WebForm_OnSubmit=function(){var a=AjaxControlToolkit.ConfirmButtonBehavior._originalWebForm_OnSubmit();if(a&&AjaxControlToolkit.ConfirmButtonBehavior._clickedBehavior)a=AjaxControlToolkit.ConfirmButtonBehavior._clickedBehavior._displayConfirmDialog();AjaxControlToolkit.ConfirmButtonBehavior._clickedBehavior=null;return a};