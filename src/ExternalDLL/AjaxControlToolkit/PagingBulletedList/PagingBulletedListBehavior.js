Type.registerNamespace("AjaxControlToolkit");AjaxControlToolkit.PagingBulletedListBehavior=function(c){var b=null,a=this;AjaxControlToolkit.PagingBulletedListBehavior.initializeBase(a,[c]);a._indexSizeValue=1;a._separatorValue=" - ";a._heightValue=b;a._maxItemPerPage=b;a._clientSortValue=false;a._selectIndexCssClassValue=b;a._unselectIndexCssClassValue=b;a._tabValue=[];a._tabValueObject=[];a._tabIndex=[];a._divContent=b;a._divContentIndex=b;a._divContentUl=b;a._prevIndexSelected=b;a._indexSelected=0;a._clickIndex=b};AjaxControlToolkit.PagingBulletedListBehavior.prototype={initialize:function(){var a=this;AjaxControlToolkit.PagingBulletedListBehavior.callBaseMethod(a,"initialize");var g=a.get_ClientState();if(g){var d=g.split(";");if(d.length){a._indexSelected=d[0];if(d[1]=="null")a._indexSizeValue=null;else a._indexSizeValue=d[1];if(d[2]=="null")a._maxItemPerPage=null;else a._maxItemPerPage=d[2];if(d[3]=="true")a._clientSortValue=true;else a._clientSortValue=false}}var e=a.get_element();a._divContent=document.createElement("div");e.parentNode.insertBefore(a._divContent,e);var c=e.childNodes;a._clickIndex=Function.createDelegate(a,a._onIndexClick);var f,h;a._divContentIndex=document.createElement("DIV");a._divContentIndex.style.marginBottom="5px";a._divContent.appendChild(a._divContentIndex);for(var b=0;b<c.length;b++)if(c[b].nodeName=="LI"){if(c[b].firstChild&&c[b].firstChild.innerHTML)f=c[b].firstChild.innerHTML;else f=c[b].innerHTML;a._tabValueObject[a._tabValueObject.length]={text:f,obj:c[b],index:b}}a._clientSortValue&&a._tabValueObject.sort(a.liElementSortText);a._generateIndexAndTabForView();a._removeChilds(e.childNodes);a._divContentUl=document.createElement("DIV");a._changeHeightDivContent();a._divContentUl.appendChild(e);a._divContent.appendChild(a._divContentUl);a._updateIndexAndView(a._indexSelected)},_changeHeightDivContent:function(){var a=this;if(a._heightValue){a._divContentUl.style.overflow="scroll";a._divContentUl.style.height=a._heightValue+"px"}else{a._divContentUl.style.overflow="";a._divContentUl.style.height=""}},_createAHrefIndex:function(e,d){var b=this,c,a;a=document.createElement("a");a.href="";Sys.UI.DomElement.addCssClass(a,b._unselectIndexCssClassValue);a.innerHTML=e;a.tag=d;$addHandler(a,"click",b._clickIndex);b._tabIndex[b._tabIndex.length]=a;b._divContentIndex.appendChild(a);c=document.createElement("SPAN");c.innerHTML="﻿"+b._separatorValue+"﻿";b._divContentIndex.appendChild(c);return c},liElementSortText:function(a,b){if(a.text.toLowerCase()==b.text.toLowerCase())return 0;else if(a.text.toLowerCase()<b.text.toLowerCase())return -1;else return 1},liElementSortIndex:function(a,b){return a.index-b.index},_generateIndexAndTabForView:function(){var a=this;a._deleteTabIndexAndTabValue();a._tabValue=[];a._tabIndex=[];var d;a._removeChilds(a._divContentIndex.childNodes);if(a._maxItemPerPage){if(a._maxItemPerPage>0)for(var b=-1,c=0;c<a._tabValueObject.length;c++){if(c%a._maxItemPerPage==0){b++;index=a._tabValueObject[c].text;a._tabValue[b]=[];d=a._createAHrefIndex(index,b)}a._tabValue[b][a._tabValue[b].length]=a._tabValueObject[c].obj}}else if(a._indexSizeValue>0)for(var e="",b=-1,c=0;c<a._tabValueObject.length;c++){index=a._tabValueObject[c].text.substr(0,a._indexSizeValue).toUpperCase();if(e!=index){b++;a._tabValue[b]=[];d=a._createAHrefIndex(index,b);e=index}a._tabValue[b][a._tabValue[b].length]=a._tabValueObject[c].obj}d&&a._divContentIndex.removeChild(d)},_deleteTabIndexAndTabValue:function(){var a=this;if(a._clickIndex){for(var b=0;b<a._tabIndex.length;b++){var c=a._tabIndex[b];c&&$removeHandler(c,"click",a._clickIndex)}a._changeHandler=null}delete a._tabIndex;for(var b=0;b<a._tabValue.length;b++)delete a._tabValue[b];delete a._tabValue},dispose:function(){this._deleteTabIndexAndTabValue();delete this._tabValueObject;AjaxControlToolkit.PagingBulletedListBehavior.callBaseMethod(this,"dispose")},_removeChilds:function(a){for(var b=0;a.length;b++)a[0].parentNode.removeChild(a[0])},_renderHtml:function(c){var a=this,d=a.get_element();a._removeChilds(d.childNodes);for(var b=0;b<a._tabValue[c].length;b++)d.appendChild(a._tabValue[c][b]);a._divContentUl.scrollTop=0},_selectIndex:function(b){var a=this;if(a._tabIndex.length>0){Sys.UI.DomElement.removeCssClass(a._tabIndex[b],a._unselectIndexCssClassValue);Sys.UI.DomElement.addCssClass(a._tabIndex[b],a._selectIndexCssClassValue);a._prevIndexSelected=a._tabIndex[b];a.raiseIndexChanged(a._tabIndex[b])}},_onIndexClick:function(c){var a=this,d=a.get_element(),b=c.target;Sys.UI.DomElement.removeCssClass(a._prevIndexSelected,a._selectIndexCssClassValue);Sys.UI.DomElement.addCssClass(a._prevIndexSelected,a._unselectIndexCssClassValue);Sys.UI.DomElement.removeCssClass(b,a._unselectIndexCssClassValue);Sys.UI.DomElement.addCssClass(b,a._selectIndexCssClassValue);a._prevIndexSelected=b;a._renderHtml(b.tag);a.raiseIndexChanged(b);c.preventDefault()},add_indexChanged:function(a){this.get_events().addHandler("indexChanged",a)},remove_indexChanged:function(a){this.get_events().removeHandler("indexChanged",a)},raiseIndexChanged:function(b){var a=this;a._indexSelected=b.tag;var c=a.get_events().getHandler("indexChanged");if(c){if(!b)b=Sys.EventArgs.Empty;c(a,b)}a.set_ClientState(b.tag+";"+a.get_IndexSize()+";"+a.get_MaxItemPerPage()+";"+a.get_ClientSort())},get_tabIndex:function(){return this._tabIndex},get_tabValue:function(){return this._tabValue},_updateIndexAndView:function(b){var a=this;a._generateIndexAndTabForView();if(a._tabIndex.length>0)if(b<a._tabIndex.length){a._renderHtml(a._tabIndex[b].tag);a._selectIndex(b)}else{a._renderHtml(a._tabIndex[0].tag);a._selectIndex(0)}},get_Height:function(){return this._heightValue},set_Height:function(b){var a=this;if(a._heightValue!=b){a._heightValue=b;a.get_isInitialized()&&a._changeHeightDivContent();a.raisePropertyChanged("Height")}},get_IndexSize:function(){return this._indexSizeValue},set_IndexSize:function(b){var a=this;if(a._indexSizeValue!=b){a.set_ClientState("0;"+b+";"+a.get_MaxItemPerPage()+";"+a.get_ClientSort());a._indexSizeValue=b;a.get_isInitialized()&&a._updateIndexAndView(0);a.raisePropertyChanged("IndexSize")}},get_MaxItemPerPage:function(){return this._maxItemPerPage},set_MaxItemPerPage:function(b){var a=this;if(a._maxItemPerPage!=b){a.set_ClientState("0;"+a.get_IndexSize()+";"+b+";"+a.get_ClientSort());a._maxItemPerPage=b;a.get_isInitialized()&&a._updateIndexAndView(0);a.raisePropertyChanged("MaxItemPerPage")}},get_Separator:function(){return this._separatorValue},set_Separator:function(b){var a=this;if(a._separatorValue!=b){if(b)a._separatorValue=b;else a._separatorValue="";a.get_isInitialized()&&a._updateIndexAndView(0);a.raisePropertyChanged("Separator")}},get_ClientSort:function(){return this._clientSortValue},set_ClientSort:function(b){var a=this;if(a._clientSortValue!=b){a.set_ClientState("0;"+a.get_IndexSize()+";"+a.get_MaxItemPerPage()+";"+b);a._clientSortValue=b;if(a.get_isInitialized()){if(a._clientSortValue)a._tabValueObject.sort(a.liElementSortText);else a._tabValueObject.sort(a.liElementSortIndex);a._updateIndexAndView(0)}a.raisePropertyChanged("ClientSort")}},get_SelectIndexCssClass:function(){return this._selectIndexCssClassValue},set_SelectIndexCssClass:function(a){if(this._selectIndexCssClassValue!=a){this._selectIndexCssClassValue=a;this.raisePropertyChanged("SelectIndexCssClass")}},get_UnselectIndexCssClass:function(){return this._unselectIndexCssClassValue},set_UnselectIndexCssClass:function(a){if(this._unselectIndexCssClassValue!=a){this._unselectIndexCssClassValue=a;this.raisePropertyChanged("UnselectIndexCssClass")}}};AjaxControlToolkit.PagingBulletedListBehavior.registerClass("AjaxControlToolkit.PagingBulletedListBehavior",AjaxControlToolkit.BehaviorBase);