Type.registerNamespace("AjaxControlToolkit");AjaxControlToolkit.AutoSize=function(){throw Error.invalidOperation();};AjaxControlToolkit.AutoSize.prototype={None:0,Fill:1,Limit:2};AjaxControlToolkit.AutoSize.registerEnum("AjaxControlToolkit.AutoSize",false);AjaxControlToolkit.AccordionSelectedIndexChangeEventArgs=function(b,a){AjaxControlToolkit.AccordionSelectedIndexChangeEventArgs.initializeBase(this);this._oldIndex=b;this._selectedIndex=a};AjaxControlToolkit.AccordionSelectedIndexChangeEventArgs.prototype={get_oldIndex:function(){return this._oldIndex},set_oldIndex:function(a){this._oldIndex=a},get_selectedIndex:function(){return this._selectedIndex},set_selectedIndex:function(a){this._selectedIndex=a}};AjaxControlToolkit.AccordionSelectedIndexChangeEventArgs.registerClass("AjaxControlToolkit.AccordionSelectedIndexChangeEventArgs",Sys.CancelEventArgs);AjaxControlToolkit.AccordionBehavior=function(b){var a=this;AjaxControlToolkit.AccordionBehavior.initializeBase(a,[b]);a._selectedIndex=0;a._panes=[];a._fadeTransitions=false;a._duration=.25;a._framesPerSecond=30;a._autoSize=AjaxControlToolkit.AutoSize.None;a._requireOpenedPane=true;a._suppressHeaderPostbacks=false;a._headersSize=0;a._headerClickHandler=null;a._headerCssClass="";a._headerSelectedCssClass="";a._contentCssClass="";a._resizeHandler=null;a._isIE8InStandardMode=Sys.Browser.agent==Sys.Browser.InternetExplorer&&Sys.Browser.version>7&&Sys.Browser.documentMode!=0};AjaxControlToolkit.AccordionBehavior.prototype={initialize:function(){var a=this;AjaxControlToolkit.AccordionBehavior.callBaseMethod(a,"initialize");a._headerClickHandler=Function.createDelegate(a,a._onHeaderClick);var d=a.get_ClientState();d!==null&&d!==""&&a._changeSelectedIndex(parseInt(d),false,true);var c=a.get_element().childNodes,b={};for(b.value=0;b.value<c.length;b.value++){var f=a._getNextDiv(c,b);if(!f)break;var e=a._getNextDiv(c,b);if(e){a.addPane(f,e);b.value--}}a._requireOpenedPane&&!a.get_Pane()&&a._panes.length>0&&a._changeSelectedIndex(0,false,true);a._initializeLayout()},_getNextDiv:function(c,b){var a=null;while(b.value<c.length&&(a=c[b.value++]))if(a.tagName&&a.tagName.toLowerCase()==="div")break;return a},addPane:function(e,d){var b=this,c={};c.animation=null;c.header=e;e._index=b._panes.length;$addHandler(e,"click",b._headerClickHandler);var f=b.get_element(),a=document.createElement("div");f.insertBefore(a,d);a.appendChild(d);a._original=d;c.content=a;a.style.border="";a.style.margin="";a.style.padding="";Array.add(b._panes,c);b._initializePane(e._index);d.style.display="block";return c},_getAnimation:function(d){var b=null,c=this,a=d.animation;if(!a){var e=b,f=b;if(!c._fadeTransitions)a=e=new AjaxControlToolkit.Animation.LengthAnimation(d.content,c._duration,c._framesPerSecond,"style","height",0,0,"px");else{e=new AjaxControlToolkit.Animation.LengthAnimation(b,b,b,"style","height",0,0,"px");f=new AjaxControlToolkit.Animation.FadeAnimation(b,b,b,AjaxControlToolkit.Animation.FadeEffect.FadeOut,0,1,false);a=new AjaxControlToolkit.Animation.ParallelAnimation(d.content,c._duration,c._framesPerSecond,[f,e])}d.animation=a;a._length=e;a._fade=f;a._pane=d;a._opening=true;a._behavior=c;a._ended=Function.createDelegate(d.animation,c._onAnimationFinished);a.add_ended(d.animation._ended);a.initialize()}return a},_onAnimationFinished:function(){this._behavior._endPaneChange(this._pane,this._opening)},_initializeLayout:function(){var a=this;for(var c=0;c<a._panes.length;c++){var f=a._panes[c].animation;f&&f.get_isPlaying()&&f.stop()}var e=a.get_element();a._initialHeight=e.offsetHeight;var b=e.style;if(a._autoSize===AjaxControlToolkit.AutoSize.None){a._disposeResizeHandler();var d=Sys.Browser.agent==Sys.Browser.InternetExplorer&&Sys.Browser.version>=7;if(!d||d&&b.height&&b.height.length>0)b.height="auto";if(!d||d&&b.overflow&&b.overflow.length>0)b.overflow="auto"}else{a._addResizeHandler();b.height=e.offsetHeight+"px";b.overflow="hidden"}for(var c=0;c<a._panes.length;c++)a._initializePane(c);a._resizeSelectedPane()},_initializePane:function(g){var e="auto",d=this,h=d.get_Pane(g);if(!h)return;var a=h.content,b=a._original,c=g===d._selectedIndex;a.style.height=c||d._autoSize===AjaxControlToolkit.AutoSize.Fill?e:"0px";a.style.overflow=c?e:"hidden";a.style.display=c?"block":"none";b.style.height=e;b.style.maxHeight="";b.style.overflow=c?e:"hidden";var f=c||!d._fadeTransitions?1:0;if(d._autoSize===AjaxControlToolkit.AutoSize.Fill){$common.getElementOpacity(b)!=f&&$common.setElementOpacity(b,f);$common.getElementOpacity(a)!=1&&$common.setElementOpacity(a,1)}else{$common.getElementOpacity(a)!=f&&$common.setElementOpacity(a,f);$common.getElementOpacity(b)!=1&&$common.setElementOpacity(b,1)}},_addResizeHandler:function(){var a=this;if(!a._resizeHandler){a._resizeHandler=Function.createDelegate(a,a._resizeSelectedPane);$addHandler(window,"resize",a._resizeHandler)}},dispose:function(){var c=null,a=this;a._disposeResizeHandler();a._disposeAnimations();for(var d=a._panes.length-1;d>=0;d--){var b=a._panes[d];if(b){if(b.header){b.header._index=c;$removeHandler(b.header,"click",a._headerClickHandler);b.header=c}if(b.content){b.content._original=c;b.content=c}a._panes[d]=c;delete a._panes[d]}}a._panes=c;a._headerClickHandler=c;AjaxControlToolkit.AccordionBehavior.callBaseMethod(a,"dispose")},_disposeResizeHandler:function(){if(this._resizeHandler){$removeHandler(window,"resize",this._resizeHandler);this._resizeHandler=null}},_disposeAnimations:function(){var b=null;for(var c=0;c<this._panes.length;c++){var a=this._panes[c].animation;if(a){a.get_isPlaying()&&a.stop();if(a._ended){a.remove_ended(a._ended);a._ended=b}a.dispose();a._length=b;a._fade=b;a._pane=b;a._opening=b;a._behavior=b;this._panes[c].animation=b}}},_resizeSelectedPane:function(){var b=this,d=b.get_Pane();if(!d)return;b._headersSize=b._getHeadersSize().height;var a=d.content._original;switch(b._autoSize){case AjaxControlToolkit.AutoSize.None:a.style.height="auto";a.style.maxHeight="";break;case AjaxControlToolkit.AutoSize.Limit:var c=b._getRemainingHeight(false);a.style.height="auto";a.style.maxHeight=c+"px";break;case AjaxControlToolkit.AutoSize.Fill:var c=b._getRemainingHeight(true);a.style.height=c+"px";a.style.maxHeight=""}},_onHeaderClick:function(d){var b=this,a=d.target,e=b.get_element();while(a&&a.parentNode!==e)a=a.parentNode;d.stopPropagation();b._suppressHeaderPostbacks&&d.preventDefault();var c=a._index;if(c===b._selectedIndex&&!b._requireOpenedPane)c=-1;b._changeSelectedIndex(c,true)},_changeSelectedIndex:function(c,g,h){var a=this,b=a._selectedIndex,d=a.get_Pane(c),e=a.get_Pane(b);if(!h&&d==e)return;var f=new AjaxControlToolkit.AccordionSelectedIndexChangeEventArgs(b,c);a.raiseSelectedIndexChanging(f);if(f.get_cancel())return;if(e)e.header.className=a._headerCssClass;if(d)d.header.className=a._headerSelectedCssClass==""?a._headerCssClass:a._headerSelectedCssClass;a._selectedIndex=c;a.set_ClientState(a._selectedIndex);g&&a._changePanes(b);a.raiseSelectedIndexChanged(new AjaxControlToolkit.AccordionSelectedIndexChangeEventArgs(b,c));a.raisePropertyChanged("SelectedIndex")},_changePanes:function(g){var b=this;if(!b.get_isInitialized())return;for(var f=null,e=null,d=0;d<b._panes.length;d++){var c=b._panes[d],a=b._getAnimation(c);a.get_isPlaying()&&a.stop();if(d==b._selectedIndex){a._opening=true;f=a}else if(d==g){a._opening=false;e=a}else continue;b._startPaneChange(c,a._opening);b._fadeTransitions&&a._fade.set_effect(a._opening?AjaxControlToolkit.Animation.FadeEffect.FadeIn:AjaxControlToolkit.Animation.FadeEffect.FadeOut);if(b._autoSize===AjaxControlToolkit.AutoSize.Fill){a.set_target(c.content._original);a._length.set_startValue($common.getContentSize(c.content._original).height);a._length.set_endValue(a._opening?b._getRemainingHeight(true):0)}else{a.set_target(c.content);a._length.set_startValue(c.content.offsetHeight);a._length.set_endValue(a._opening?b._getRemainingHeight(false):0)}}e&&e.play();f&&f.play()},_startPaneChange:function(e,d){var c=this,b=e.content,a=b._original;if(d){b.style.display="block";if(c._autoSize===AjaxControlToolkit.AutoSize.Fill&&c._isIE8InStandardMode)a.style.display="block"}else{b.style.overflow="hidden";a.style.overflow="hidden";if(c._autoSize===AjaxControlToolkit.AutoSize.Limit){b.style.height=c._getTotalSize(a).height+"px";a.style.maxHeight=""}}},_endPaneChange:function(g,f){var c="auto",b=this,a=g.content,d=a._original;if(f){if(b._autoSize===AjaxControlToolkit.AutoSize.Limit){var e=b._getRemainingHeight(true);d.style.maxHeight=e+"px"}d.style.overflow=c;a.style.height=c;a.style.overflow=c}else if(!b._isIE8InStandardMode)a.style.display="none";else if(b._autoSize===AjaxControlToolkit.AutoSize.Fill)d.style.display="none";else a.style.height="0px"},_getHeadersSize:function(){for(var a={width:0,height:0},b=0;b<this._panes.length;b++){var c=this._getTotalSize(this._panes[b].header);a.width=Math.max(a.width,c.width);a.height+=c.height}return a},_getRemainingHeight:function(e){var b=this,a=0,c=b.get_Pane();if(b._autoSize===AjaxControlToolkit.AutoSize.None){if(c)a=b._getTotalSize(c.content._original).height}else{a=b._headersSize;if(e&&c)a+=b._getGutterSize(c.content._original).height;var f=b.get_element();a=Math.max(f.offsetHeight-a,0);if(c&&b._autoSize===AjaxControlToolkit.AutoSize.Limit){var d=b._getTotalSize(c.content._original).height;if(d>0)a=Math.min(a,d)}}return a},_getTotalSize:function(b){var a=$common.getSize(b),c=$common.getMarginBox(b);a.width+=c.horizontal;a.height+=c.vertical;return a},_getGutterSize:function(c){var a={width:0,height:0};try{var b=$common.getPaddingBox(c);a.width+=b.horizontal;a.height+=b.vertical}catch(d){}try{var b=$common.getBorderBox(c);a.width+=b.horizontal;a.height+=b.vertical}catch(d){}var b=$common.getMarginBox(c);a.width+=b.horizontal;a.height+=b.vertical;return a},add_selectedIndexChanging:function(a){this.get_events().addHandler("selectedIndexChanging",a)},remove_selectedIndexChanging:function(a){this.get_events().removeHandler("selectedIndexChanging",a)},raiseSelectedIndexChanging:function(b){var a=this.get_events().getHandler("selectedIndexChanging");a&&a(this,b)},add_selectedIndexChanged:function(a){this.get_events().addHandler("selectedIndexChanged",a)},remove_selectedIndexChanged:function(a){this.get_events().removeHandler("selectedIndexChanged",a)},raiseSelectedIndexChanged:function(b){var a=this.get_events().getHandler("selectedIndexChanged");a&&a(this,b)},get_Pane:function(a){var b=this;if(a===undefined||a===null)a=b._selectedIndex;return b._panes&&a>=0&&a<b._panes.length?b._panes[a]:null},get_Count:function(){return this._panes?this._panes.length:0},get_TransitionDuration:function(){return this._duration*1e3},set_TransitionDuration:function(d){var a=this;if(a._duration!=d/1e3){a._duration=d/1e3;for(var b=0;b<a._panes.length;b++){var c=a._panes[b].animation;c&&c.set_duration(a._duration)}a.raisePropertyChanged("TransitionDuration")}},get_FramesPerSecond:function(){return this._framesPerSecond},set_FramesPerSecond:function(d){var a=this;if(a._framesPerSecond!=d){a._framesPerSecond=d;for(var b=0;b<a._panes.length;b++){var c=a._panes[b].animation;c&&c.set_fps(a._framesPerSecond)}a.raisePropertyChanged("FramesPerSecond")}},get_FadeTransitions:function(){return this._fadeTransitions},set_FadeTransitions:function(c){var a=this;if(a._fadeTransitions!=c){a._fadeTransitions=c;a._disposeAnimations();if(!a._fadeTransitions)for(var b=0;b<a._panes.length;b++){$common.getElementOpacity(a._panes[b].content)!=1&&$common.setElementOpacity(a._panes[b].content,1);$common.getElementOpacity(a._panes[b].content._original)!=1&&$common.setElementOpacity(a._panes[b].content._original,1)}a.raisePropertyChanged("FadeTransitions")}},get_HeaderCssClass:function(){return this._headerCssClass},set_HeaderCssClass:function(a){this._headerCssClass=a;this.raisePropertyChanged("HeaderCssClass")},get_HeaderSelectedCssClass:function(){return this._headerSelectedCssClass},set_HeaderSelectedCssClass:function(a){this._headerSelectedCssClass=a;this.raisePropertyChanged("HeaderSelectedCssClass")},get_ContentCssClass:function(){return this._contentCssClass},set_ContentCssClass:function(a){this._contentCssClass=a;this.raisePropertyChanged("ContentCssClass")},get_AutoSize:function(){return this._autoSize},set_AutoSize:function(b){var a=this;if(Sys.Browser.agent===Sys.Browser.InternetExplorer&&b===AjaxControlToolkit.AutoSize.Limit)b=AjaxControlToolkit.AutoSize.Fill;if(a._autoSize!=b){a._autoSize=b;a._initializeLayout();a.raisePropertyChanged("AutoSize")}},get_SelectedIndex:function(){return this._selectedIndex},set_SelectedIndex:function(a){this._changeSelectedIndex(a,true)},get_requireOpenedPane:function(){return this._requireOpenedPane},set_requireOpenedPane:function(a){if(this._requireOpenedPane!=a){this._requireOpenedPane=a;this.raisePropertyChanged("requireOpenedPane")}},get_suppressHeaderPostbacks:function(){return this._suppressHeaderPostbacks},set_suppressHeaderPostbacks:function(a){if(this._suppressHeaderPostbacks!=a){this._suppressHeaderPostbacks=a;this.raisePropertyChanged("suppressHeaderPostbacks")}}};AjaxControlToolkit.AccordionBehavior.registerClass("AjaxControlToolkit.AccordionBehavior",AjaxControlToolkit.BehaviorBase);