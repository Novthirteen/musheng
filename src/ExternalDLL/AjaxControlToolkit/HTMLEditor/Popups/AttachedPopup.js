Type.registerNamespace("AjaxControlToolkit.HTMLEditor.Popups");AjaxControlToolkit.HTMLEditor.Popups.AttachedPopup=function(a){AjaxControlToolkit.HTMLEditor.Popups.AttachedPopup.initializeBase(this,[a]);this._relatedElement=null};AjaxControlToolkit.HTMLEditor.Popups.AttachedPopup.prototype={get_relatedElement:function(){return this._relatedElement},set_relatedElement:function(a){this._relatedElement=a},open:function(j){var a=this;if(a._relatedElement!=null){var n=a;if(!a.checkCorrectLoaded(function(){n.open(j)}))return;var k=$common.getLocation(a._relatedElement),d=k.x,e=k.y+a._relatedElement.offsetHeight,b=a.get_element().parentNode;while(b&&b.tagName&&b.tagName.toUpperCase()!="BODY"){var f=AjaxControlToolkit.HTMLEditor.getStyle(b,"position");if(f=="absolute"||f=="fixed"){var m=parseInt(AjaxControlToolkit.HTMLEditor.getStyle(b,"top")),l=parseInt(AjaxControlToolkit.HTMLEditor.getStyle(b,"left"));if(!isNaN(m)&&!isNaN(l)){d-=l;e-=m}break}else if(f=="relative"){var g=$common.getLocation(b);d-=g.x;e-=g.y}b=b.parentNode}var c=AjaxControlToolkit.HTMLEditor.getClientViewportElement(a._iframe),i=c.clientWidth+c.scrollLeft,h=c.clientHeight+c.scrollTop;if(e<c.scrollTop)e=c.scrollTop;if(d<c.scrollLeft)d=c.scrollLeft;if(e+a._iframe.offsetHeight>h)e-=e+a._iframe.offsetHeight-h;if(d+a._iframe.offsetWidth>i)d-=d+a._iframe.offsetWidth-i;AjaxControlToolkit.HTMLEditor.Popups.AttachedPopup.callBaseMethod(a,"open",[j,e,d])}},close:function(a){AjaxControlToolkit.HTMLEditor.Popups.AttachedPopup.callBaseMethod(this,"close",[a])},initialize:function(){AjaxControlToolkit.HTMLEditor.Popups.AttachedPopup.callBaseMethod(this,"initialize")},dispose:function(){AjaxControlToolkit.HTMLEditor.Popups.AttachedPopup.callBaseMethod(this,"dispose")}};AjaxControlToolkit.HTMLEditor.Popups.AttachedPopup.registerClass("AjaxControlToolkit.HTMLEditor.Popups.AttachedPopup",AjaxControlToolkit.HTMLEditor.Popups.Popup);