Type.registerNamespace("AjaxControlToolkit.HTMLEditor");AjaxControlToolkit.HTMLEditor.Editor=function(b){var a=this;AjaxControlToolkit.HTMLEditor.Editor.initializeBase(a,[b]);a._editPanel=null;a._changingToolbar=null;if(AjaxControlToolkit.HTMLEditor.isIE&&Sys.Browser.version==8&&document.compatMode!="BackCompat"||AjaxControlToolkit.HTMLEditor.isOpera)a._onresize$delegate=Function.createDelegate(a,a._onresize)};AjaxControlToolkit.HTMLEditor.Editor.prototype={get_autofocus:function(){return this._editPanel.get_autofocus()},set_autofocus:function(a){this._editPanel.set_autofocus(a)},get_content:function(){return this._editPanel.get_content()},set_content:function(a){this._editPanel.set_content(a)},get_activeMode:function(){return this._editPanel.get_activeMode()},set_activeMode:function(a){this._editPanel.set_activeMode(a)},get_editPanel:function(){return this._editPanel},set_editPanel:function(a){this._editPanel=a},get_changingToolbar:function(){return this._changingToolbar},set_changingToolbar:function(a){this._changingToolbar=a},add_propertyChanged:function(a){this._editPanel.add_propertyChanged(a)},remove_propertyChanged:function(a){this._editPanel.remove_propertyChanged(a)},initialize:function(){var c="BackCompat",a=this;AjaxControlToolkit.HTMLEditor.Editor.callBaseMethod(a,"initialize");var b=a.get_element(),e=b.className;Sys.UI.DomElement.removeCssClass(b,e);Sys.UI.DomElement.addCssClass(b,"ajax__htmleditor_editor_base");Sys.UI.DomElement.addCssClass(b,e);if(!AjaxControlToolkit.HTMLEditor.isIE&&document.compatMode!=c)a.get_element().style.height="100%";if(AjaxControlToolkit.HTMLEditor.isIE&&Sys.Browser.version==8&&document.compatMode!=c||AjaxControlToolkit.HTMLEditor.isOpera){$addHandlers(b,{resize:a._onresize$delegate});var d=a.get_editPanel();a._saved_setActive=d._setActive;d._setActive=Function.createDelegate(a,a._setActive);var f=a;if(AjaxControlToolkit.HTMLEditor.isOpera)setTimeout(function(){f._ensureVisibleResize()},0);else f._ensureVisibleResize()}},_setActive:function(c){var a=this,b=a;Function.createDelegate(a.get_editPanel(),a._saved_setActive)(c);if(!AjaxControlToolkit.HTMLEditor.isReallyVisible(a.get_element()))setTimeout(function(){b._ensureVisibleResize()},0);else b._ensureVisibleResize()},_ensureVisibleResize:function(){var b=false,a;if(!AjaxControlToolkit.HTMLEditor.isReallyVisible(this.get_element())){b=true;a=AjaxControlToolkit.HTMLEditor.setElementVisibility(this.get_element())}this._onresize();if(b){AjaxControlToolkit.HTMLEditor.restoreElementVisibility(a);delete a}},dispose:function(){var a=this;if(AjaxControlToolkit.HTMLEditor.isIE&&Sys.Browser.version==8&&document.compatMode!="BackCompat"||AjaxControlToolkit.HTMLEditor.isOpera){$common.removeHandlers(a.get_element(),{resize:a._onresize$delegate});a.get_editPanel()._setActive=a._saved_setActive}AjaxControlToolkit.HTMLEditor.Editor.callBaseMethod(a,"dispose")},_onresize:function(c){var b="undefined";try{var a=this.get_editPanel().get_element().parentNode;if(typeof c==b||c==null)a.style.height="";var d=AjaxControlToolkit.HTMLEditor.Editor.MidleCellHeightForIE(a.parentNode.parentNode.parentNode,a.parentNode);a.style.height=d;typeof this.get_editPanel().get_activePanel()._onresize!=b&&this.get_editPanel().get_activePanel()._onresize()}catch(e){}return true}};AjaxControlToolkit.HTMLEditor.Editor.registerClass("AjaxControlToolkit.HTMLEditor.Editor",Sys.UI.Control);AjaxControlToolkit.HTMLEditor.Editor.MidleCellHeightForIE=function(a,h){var e="100%";if(AjaxControlToolkit.HTMLEditor.isIE&&document.compatMode!="BackCompat"||AjaxControlToolkit.HTMLEditor.isOpera)try{for(var g=2,c=0;c<a.rows.length;c++)if(a.rows[c]!=h)g+=a.rows[c].offsetHeight+1;var b=a.clientHeight;if(Sys.Browser.version==8||AjaxControlToolkit.HTMLEditor.isOpera){var d=a.style.height,f=a.parentNode.style.height;if(d.indexOf("px")>0)b=parseInt(d);else if(d=="100%"&&f.indexOf("px")>0)b=parseInt(f)}e=(b-g)*100/(b*1)+"%"}catch(i){e=""}return e};