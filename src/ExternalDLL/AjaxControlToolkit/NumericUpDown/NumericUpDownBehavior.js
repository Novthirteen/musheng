Type.registerNamespace("AjaxControlToolkit");AjaxControlToolkit.NumericUpDownBehavior=function(c){var b=null,a=this;AjaxControlToolkit.NumericUpDownBehavior.initializeBase(a,[c]);a._currentValue=b;a._widthValue=b;a._targetButtonUpIDValue=b;a._targetButtonDownIDValue=b;a._serviceUpPathValue=b;a._serviceUpMethodValue=b;a._serviceDownPathValue=b;a._serviceDownMethodValue=b;a._refValuesValue=b;a._tagValue=b;a._elementTextBox=b;a._step=1;a._min=-Number.MAX_VALUE;a._max=Number.MAX_VALUE;a._bUp=b;a._bDown=b;a._stepPrecision=0;a._valuePrecision=0;a._clickUpHandler=b;a._clickDownHandler=b;a._changeHandler=b};AjaxControlToolkit.NumericUpDownBehavior.prototype={initialize:function(){var q="Tahoma, Arial, sans-serif",p="Webdings",o="outset 1px",d="0",k="middle",j="24px",n="relative",i="px",a=this;AjaxControlToolkit.NumericUpDownBehavior.callBaseMethod(a,"initialize");$common.prepareHiddenElementForATDeviceUpdate();var b=a.get_element();a._elementTextBox=b;if(a._refValuesValue||a._serviceUpMethodValue||a._serviceDownMethodValue)a._elementTextBox.readOnly=true;else a._elementTextBox.readOnly=false;a.readValue();a._changeHandler=Function.createDelegate(a,a._onChange);$addHandler(b,"blur",a._changeHandler);if(a._targetButtonUpIDValue==""||a._targetButtonDownIDValue==""){a._widthValue=Math.max(a._widthValue,24);b.style.width=a._widthValue-24+i;b.style.textAlign="center";var c=document.createElement("DIV");c.style.position=n;c.style.width=a._widthValue+i;c.style.fontSize=b.clientHeight+i;c.style.height=b.clientHeight+i;c.style.paddingRight=j;if(!(Sys.Browser.agent==Sys.Browser.Firefox||Sys.Browser.agent==Sys.Browser.Safari))c.style.display="inline";else c.style.display="inline-block";b.parentNode.insertBefore(c,b);var e=document.createElement("TABLE"),l=document.createElement("TBODY"),m=document.createElement("TR"),r=document.createElement("TR"),f=document.createElement("TD"),h=document.createElement("TD"),g=document.createElement("TD");f.rowSpan="2";f.style.verticalAlign=k;h.style.verticalAlign=k;g.style.verticalAlign=k;m.appendChild(f);m.appendChild(h);r.appendChild(g);l.appendChild(m);l.appendChild(r);e.appendChild(l);c.appendChild(e);b.parentNode.removeChild(b);f.appendChild(b);e.style.borderCollapse="collapse";e.cellSpacing=d;e.cellPadding=d;e.style.display="inline";e.style.position=n;f.style.padding=d;h.style.padding=d;g.style.padding=d;f.style.margin=d;h.style.margin=d;g.style.margin=d}if(a._targetButtonUpIDValue==""){a._bUp=document.createElement("input");a._bUp.type="button";a._bUp.id=b.id+"_bUp";a._bUp.style.border=o;if(Sys.Browser.agent==Sys.Browser.InternetExplorer){a._bUp.style.fontFamily=p;a._bUp.style.fontSize="9pt";a._bUp.value="5"}else{a._bUp.style.fontFamily=q;a._bUp.style.fontSize="5pt";a._bUp.value="▲";a._bUp.style.fontWeight="bold";a._bUp.style.lineHeight="3pt"}a._bUp.style.height="12px";a._bUp.style.width=j;a._bUp.style.overflow="hidden";a._bUp.style.lineHeight="1em";h.appendChild(a._bUp)}if(a._targetButtonDownIDValue==""){a._bDown=document.createElement("input");a._bDown.type="button";a._bDown.id=b.id+"_bDown";a._bDown.style.border=o;if(Sys.Browser.agent==Sys.Browser.InternetExplorer){a._bDown.value="6";a._bDown.style.fontFamily=p;a._bDown.style.fontSize="9pt"}else{a._bDown.value="▼";a._bDown.style.fontFamily=q;a._bDown.style.fontSize="5pt";a._bDown.style.fontWeight="bold"}a._bDown.style.height="12px";a._bDown.style.lineHeight="3pt";a._bDown.style.width=j;a._bDown.style.overflow="hidden";g.appendChild(a._bDown)}if(a._bUp==null)a._bUp=document.getElementById(a._targetButtonUpIDValue);if(a._bUp){a._clickUpHandler=Function.createDelegate(a,a._clickUp);$addHandler(a._bUp,"click",a._clickUpHandler)}if(a._bDown==null)a._bDown=document.getElementById(a._targetButtonDownIDValue);if(a._bDown){a._clickDownHandler=Function.createDelegate(a,a._clickDown);$addHandler(a._bDown,"click",a._clickDownHandler)}},dispose:function(){var a=this;if(a._changeHandler){$removeHandler(a.get_element(),"blur",a._changeHandler);a._changeHandler=null}if(a._clickUpHandler)if(a._bUp){$removeHandler(a._bUp,"click",a._clickUpHandler);a._clickUpHandler=null}if(a._clickDownHandler)if(a._bDown){$removeHandler(a._bDown,"click",a._clickDownHandler);a._clickDownHandler=null}AjaxControlToolkit.NumericUpDownBehavior.callBaseMethod(a,"dispose")},add_currentChanged:function(a){this.get_events().addHandler("currentChanged",a)},remove_currentChanged:function(a){this.get_events().removeHandler("currentChanged",a)},raiseCurrentChanged:function(a){var b=this.get_events().getHandler("currentChanged");if(b){if(!a)a=Sys.EventArgs.Empty;b(this,a)}},_onChange:function(){var a=this;a.readValue();if(a._refValuesValue){a.setCurrentToTextBox(a._refValuesValue[a._currentValue]);if(a._elementTextBox)a._elementTextBox.readOnly=true}else{a.setCurrentToTextBox(a._currentValue);if(a._elementTextBox)a._elementTextBox.readOnly=a._serviceUpMethodValue||a._serviceDownMethodValue}},readValue:function(){var a=this;if(a._elementTextBox){var c=a._elementTextBox.value;if(!a._refValuesValue){if(!c)a._currentValue=a._min;else try{a._currentValue=parseFloat(c)}catch(e){a._currentValue=a._min}if(isNaN(a._currentValue))a._currentValue=a._min;a.setCurrentToTextBox(a._currentValue);a._valuePrecision=a._computePrecision(a._currentValue)}else{if(!c)a._currentValue=0;else{for(var d=0,b=0;b<a._refValuesValue.length;b++)if(c.toLowerCase()==a._refValuesValue[b].toLowerCase())d=b;a._currentValue=d}a.setCurrentToTextBox(a._refValuesValue[a._currentValue])}}},setCurrentToTextBox:function(c){var a=this;if(a._elementTextBox){a._elementTextBox.value=c;a.raiseCurrentChanged(c);if(document.createEvent){var b=document.createEvent("HTMLEvents");b.initEvent("change",true,false);a._elementTextBox.dispatchEvent(b)}else document.createEventObject&&a._elementTextBox.fireEvent("onchange")}},_incrementValue:function(b){var a=this,c=parseFloat((a._currentValue+b).toFixed(Math.max(a._stepPrecision,a._valuePrecision)));if(b>0)a._currentValue=Math.max(Math.min(c,a._max),a._min);else a._currentValue=Math.min(Math.max(c,a._min),a._max)},_computePrecision:function(b){if(b==Number.Nan)return this._min;var c=b.toString();if(c){var d=/\.(\d*)$/,a=c.match(d);if(a&&a.length==2&&a[1])return a[1].length}return this._min},get_Width:function(){return this._widthValue},set_Width:function(a){if(this._widthValue!=a){this._widthValue=a;this.raisePropertyChanged("Width")}},get_Tag:function(){return this._tagValue},set_Tag:function(a){if(this._tagValue!=a){this._tagValue=a;this.raisePropertyChanged("Tag")}},get_TargetButtonUpID:function(){return this._targetButtonUpIDValue},set_TargetButtonUpID:function(a){if(this._targetButtonUpIDValue!=a){this._targetButtonUpIDValue=a;this.raisePropertyChanged("TargetButtonUpID")}},get_TargetButtonDownID:function(){return this._targetButtonDownIDValue},set_TargetButtonDownID:function(a){if(this._targetButtonDownIDValue!=a){this._targetButtonDownIDValue=a;this.raisePropertyChanged("TargetButtonDownID")}},get_ServiceUpPath:function(){return this._serviceUpPathValue},set_ServiceUpPath:function(a){if(this._serviceUpPathValue!=a){this._serviceUpPathValue=a;this.raisePropertyChanged("ServiceUpPath")}},get_ServiceUpMethod:function(){return this._serviceUpMethodValue},set_ServiceUpMethod:function(b){var a=this;if(a._serviceUpMethodValue!=b){a._serviceUpMethodValue=b;a.raisePropertyChanged("ServiceUpMethod");if(a._elementTextBox)a._elementTextBox.readOnly=true}},get_ServiceDownPath:function(){return this._serviceDownPathValue},set_ServiceDownPath:function(a){if(this._serviceDownPathValue!=a){this._serviceDownPathValue=a;this.raisePropertyChanged("ServiceDownPath")}},get_ServiceDownMethod:function(){return this._serviceDownMethodValue},set_ServiceDownMethod:function(b){var a=this;if(a._serviceDownMethodValue!=b){a._serviceDownMethodValue=b;a.raisePropertyChanged("ServiceDownMethod");if(a._elementTextBox)a._elementTextBox.readOnly=true}},get_RefValues:function(){return this._refValuesValue?this._refValuesValue.join(";"):""},set_RefValues:function(b){var a=this;if(b!=""){a._refValuesValue=b.split(";");a._onChange();if(a._elementTextBox)a._elementTextBox.readOnly=true}else{a._refValuesValue=null;if(a._elementTextBox)a._elementTextBox.readOnly=false}a.raisePropertyChanged("RefValues")},get_Step:function(){return this._step},set_Step:function(b){var a=this;if(b!=a._step){a._step=b;a._stepPrecision=a._computePrecision(b);a.raisePropertyChanged("Step")}},get_Minimum:function(){return this._min},set_Minimum:function(a){if(a!=this._min){this._min=a;this.raisePropertyChanged("Minimum")}},get_Maximum:function(){return this._max},set_Maximum:function(a){if(a!=this._max){this._max=a;this.raisePropertyChanged("Maximum")}},_clickUp:function(b){var a=this;a.readValue();if(a._serviceUpPathValue&&a._serviceUpMethodValue){Sys.Net.WebServiceProxy.invoke(a._serviceUpPathValue,a._serviceUpMethodValue,false,{current:a._currentValue,tag:a._tagValue},Function.createDelegate(a,a._onMethodUpDownComplete));$common.updateFormToRefreshATDeviceBuffer()}else if(a._refValuesValue){if(a._currentValue+1<a._refValuesValue.length){a._currentValue=a._currentValue+1;a.setCurrentToTextBox(a._refValuesValue[a._currentValue])}}else{a._incrementValue(a._step);a.setCurrentToTextBox(a._currentValue)}b&&b.preventDefault();return false},_clickDown:function(b){var a=this;a.readValue();if(a._serviceDownPathValue&&a._serviceDownMethodValue){Sys.Net.WebServiceProxy.invoke(a._serviceDownPathValue,a._serviceDownMethodValue,false,{current:a._currentValue,tag:a._tagValue},Function.createDelegate(a,a._onMethodUpDownComplete));$common.updateFormToRefreshATDeviceBuffer()}else if(a._refValuesValue){if(a._currentValue-1>=0){a._currentValue=a._currentValue-1;a.setCurrentToTextBox(a._refValuesValue[a._currentValue])}}else{a._incrementValue(-a._step);a.setCurrentToTextBox(a._currentValue)}b&&b.preventDefault();return false},_onMethodUpDownComplete:function(a){this._currentValue=a;this.setCurrentToTextBox(this._currentValue)}};AjaxControlToolkit.NumericUpDownBehavior.registerClass("AjaxControlToolkit.NumericUpDownBehavior",AjaxControlToolkit.BehaviorBase);